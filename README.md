# DIAP Rust SDK - ZKPç‰ˆæœ¬

[![Crates.io](https://img.shields.io/crates/v/diap-rs-sdk.svg)](https://crates.io/crates/diap-rs-sdk)
[![Documentation](https://docs.rs/diap-rs-sdk/badge.svg)](https://docs.rs/diap-rs-sdk)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**DIAP (Decentralized Intelligent Agent Protocol)** - åŸºäºé›¶çŸ¥è¯†è¯æ˜çš„å»ä¸­å¿ƒåŒ–æ™ºèƒ½ä½“èº«ä»½åè®® Rust SDK

> **ğŸ†• v0.2.4 - Noiré›†æˆç‰ˆ**: é›†æˆNoir ZKPç”µè·¯ï¼Œæä¾›æ›´ç›´è§‚çš„å¼€å‘ä½“éªŒï¼ŒåŒæ—¶ä¿æŒå‘åå…¼å®¹

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### âœ¨ ä¸ä¼ ç»Ÿæ–¹æ¡ˆçš„å¯¹æ¯”

| ç‰¹æ€§ | ä¼ ç»Ÿæ–¹æ¡ˆï¼ˆv0.1.xï¼‰ | ZKPæ–¹æ¡ˆï¼ˆv0.2.0+ï¼‰ |
|------|------------------|-------------------|
| **èº«ä»½æ ¼å¼** | `did:ipfs:<ipns_name>` | `did:key:<public_key>` |
| **å­˜å‚¨ä¾èµ–** | IPFS + IPNSåŒå±‚ | ä»…IPFSå•å±‚ |
| **éªŒè¯æ–¹å¼** | IPNSè®°å½•è§£æ | ZKPå¯†ç å­¦è¯æ˜ |
| **ä¸Šä¼ æ¬¡æ•°** | 2æ¬¡ï¼ˆåŒå±‚éªŒè¯ï¼‰ | 1æ¬¡ï¼ˆå•æ¬¡ä¸Šä¼ ï¼‰ |
| **PeerIDä¿æŠ¤** | æ˜æ–‡å­˜å‚¨ | ç§é’¥åŠ å¯†å­˜å‚¨ |
| **å»ä¸­å¿ƒåŒ–ç¨‹åº¦** | ä¾èµ–IPNSç½‘ç»œ | å®Œå…¨å»ä¸­å¿ƒåŒ– |
| **åŒ¿åæ€§** | éƒ¨åˆ†åŒ¿å | å¼ºåŒ¿åæ€§ |

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ç³»ç»Ÿåˆå§‹åŒ–ï¼ˆé™æ€åŠ è½½ï¼‰                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 1. ç”ŸæˆDIDå¯†é’¥å¯¹ (skâ‚, pkâ‚)              â”‚
    â”‚    did:key:z6Mk... â† ä»pkâ‚æ´¾ç”Ÿ           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2. ç”Ÿæˆlibp2p PeerID                     â”‚
    â”‚    12D3Koo... â† ä»libp2på¯†é’¥æ´¾ç”Ÿ          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3. åŠ å¯†PeerID                            â”‚
    â”‚    encrypted_peer_id â† E_skâ‚(PeerID)     â”‚
    â”‚    ä½¿ç”¨AES-256-GCMåŠ å¯†                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4. æ„å»ºDIDæ–‡æ¡£                           â”‚
    â”‚    åŒ…å«: pkâ‚, encrypted_peer_id          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 5. ä¸Šä¼ åˆ°IPFSï¼ˆä¸€æ¬¡æ€§ï¼‰                   â”‚
    â”‚    CIDâ‚ â† IPFS.add(DIDæ–‡æ¡£)              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… ä¿¡ä»»æ ¹ç¡®ç«‹ï¼š                          â”‚
    â”‚    DID â†â†’ CID é€šè¿‡ZKPç»‘å®š                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               åŒ¿åè®¤è¯æµç¨‹ï¼ˆåŠ¨æ€åŠ è½½ï¼‰                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç”¨æˆ·ï¼šç”Ÿæˆä¸´æ—¶PeerID_temp                 â”‚
    â”‚       ï¼ˆéšè—çœŸå®èº«ä»½ï¼‰                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç”¨æˆ· â†’ IPNï¼šè¯·æ±‚è®¿é—®èµ„æº                  â”‚
    â”‚       å‘é€: CIDâ‚, PeerID_temp            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ IPN â†’ ç”¨æˆ·ï¼šè¿”å›æŒ‘æˆ˜ nonce                â”‚
    â”‚       nonce = Hash(IPN_PeerID, temp_PeerID) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç”¨æˆ·ï¼šç”ŸæˆZKPè¯æ˜                         â”‚
    â”‚   Ï€ â† Prove(skâ‚, DIDæ–‡æ¡£, nonce, CIDâ‚)  â”‚
    â”‚   è¯æ˜é€»è¾‘ï¼š                              â”‚
    â”‚     âœ“ H(DIDæ–‡æ¡£) == CIDâ‚                 â”‚
    â”‚     âœ“ skâ‚æ´¾ç”Ÿå‡ºpkâ‚                       â”‚
    â”‚     âœ“ pkâ‚åœ¨DIDæ–‡æ¡£ä¸­                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç”¨æˆ· â†’ IPNï¼šæäº¤è¯æ˜                      â”‚
    â”‚       å‘é€: Ï€, CIDâ‚, nonce              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ IPNï¼šéªŒè¯ZKPè¯æ˜                          â”‚
    â”‚   1. ä»IPFSè·å–CIDâ‚å¯¹åº”çš„DIDæ–‡æ¡£          â”‚
    â”‚   2. éªŒè¯Ï€çš„æœ‰æ•ˆæ€§                        â”‚
    â”‚   3. éªŒè¯nonceé˜²é‡æ”¾                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… IPNï¼šæˆæƒè®¿é—®                          â”‚
    â”‚    ç”¨æˆ·èº«ä»½å·²éªŒè¯ï¼Œå…è®¸è®¿é—®èµ„æº            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” å®‰å…¨è®¾è®¡

### 1. éšç§æ¨¡å‹ï¼šå¼±åŒ¿åæ€§
- **ä¸»DID**ï¼šå…¬å¼€å¯æŸ¥ï¼Œç”¨äºå®¡è®¡å’Œä¿¡ä»»å»ºç«‹
- **ä¸´æ—¶PeerID**ï¼šæ¯æ¬¡ä¼šè¯ä½¿ç”¨ä¸€æ¬¡æ€§PeerIDï¼Œç½‘ç»œå±‚è¡Œä¸ºä¸å¯å…³è”
- **åŠ å¯†PeerID**ï¼šçœŸå®PeerIDä½¿ç”¨DIDç§é’¥åŠ å¯†ï¼Œåªæœ‰æŒæœ‰è€…èƒ½è§£å¯†

### 2. é˜²é‡æ”¾æ”»å‡»ï¼šæŒ‘æˆ˜-å“åº”
- æ¯æ¬¡è®¤è¯ä½¿ç”¨æ–°çš„nonce
- nonceç»‘å®šåŒæ–¹PeerID
- ZKPè¯æ˜åŒ…å«nonceéªŒè¯

### 3. å¯†é’¥ç®¡ç†
- **Ed25519**ï¼šDIDèº«ä»½ç­¾å
- **AES-256-GCM**ï¼šPeerIDåŠ å¯†
- æ”¯æŒå¯†é’¥è½®æ¢å’Œæ¢å¤

### 4. ZKPç³»ç»Ÿï¼šåŒé‡æ”¯æŒ
- **Noirç”µè·¯**ï¼ˆæ¨èï¼‰ï¼š
  - è¯æ˜å¤§å°ï¼šçº¦192å­—èŠ‚
  - éªŒè¯é€Ÿåº¦ï¼š3-5ms
  - çº¦æŸæ•°é‡ï¼š4ä¸ªçº¦æŸï¼ˆé«˜åº¦ä¼˜åŒ–ï¼‰
  - å¼€å‘ä½“éªŒï¼šç›´è§‚çš„ç”µè·¯æè¿°è¯­è¨€
- **arkworks-rs**ï¼ˆå‘åå…¼å®¹ï¼‰ï¼š
  - è¯æ˜å¤§å°ï¼šçº¦192å­—èŠ‚
  - éªŒè¯é€Ÿåº¦ï¼š3-5ms
  - çº¦æŸæ•°é‡ï¼š8ä¸ªçº¦æŸ
  - æ··åˆæ¶æ„ï¼šEd25519ç­¾ååœ¨ç”µè·¯å¤–éªŒè¯

### 5. CIDç»‘å®šï¼šé€»è¾‘ç»‘å®š
- DIDæ–‡æ¡£ä¸åŒ…å«è‡ªå·±çš„CIDï¼ˆé¿å…å¾ªç¯ä¾èµ–ï¼‰
- é€šè¿‡ZKPç”µè·¯éªŒè¯ `H(DIDæ–‡æ¡£) == CIDçš„å¤šå“ˆå¸Œéƒ¨åˆ†`
- æ¸…æ™°åˆ†ç¦»èº«ä»½ä¿¡æ¯å’Œæˆæƒé€»è¾‘

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```toml
[dependencies]
diap-rs-sdk = "0.2.4"
tokio = { version = "1.0", features = ["full"] }
env_logger = "0.10"
```

### åŸºç¡€ç¤ºä¾‹

```rust
use diap_rs_sdk::*;
use libp2p::identity::Keypair as LibP2PKeypair;
use libp2p::PeerId;

#[tokio::main]
async fn main() -> anyhow::Result<()> {
    env_logger::init();
    
    // 1. åˆå§‹åŒ–
    let ipfs_client = IpfsClient::new(
        Some("http://localhost:5001".to_string()),
        Some("http://localhost:8080".to_string()),
        None, None, 30,
    );
    
    // åŠ è½½ZKP keysï¼ˆéœ€å…ˆè¿è¡Œ zkp_setup_keys ç”Ÿæˆï¼‰
    let identity_manager = IdentityManager::new_with_keys(
        ipfs_client,
        "zkp_proving.key",
        "zkp_verifying.key",
    )?;
    
    // 2. ç”Ÿæˆå¯†é’¥
    let keypair = KeyPair::generate()?;
    let libp2p_keypair = LibP2PKeypair::generate_ed25519();
    let peer_id = PeerId::from(libp2p_keypair.public());
    
    println!("DID: {}", keypair.did);
    println!("PeerID: {}", peer_id);
    
    // 3. æ³¨å†Œèº«ä»½
    let agent_info = AgentInfo {
        name: "æˆ‘çš„æ™ºèƒ½ä½“".to_string(),
        services: vec![
            ServiceInfo {
                service_type: "API".to_string(),
                endpoint: serde_json::json!("https://api.example.com"),
            },
        ],
        description: None,
        tags: None,
    };
    
    let registration = identity_manager
        .register_identity(&agent_info, &keypair, &peer_id)
        .await?;
    
    println!("âœ… æ³¨å†ŒæˆåŠŸï¼");
    println!("   CID: {}", registration.cid);
    
    // 4. ç”ŸæˆZKPè¯æ˜
    let nonce = b"challenge_from_resource_node";
    let proof = identity_manager.generate_binding_proof(
        &keypair,
        &registration.did_document,
        &registration.cid,
        nonce,
    )?;
    
    println!("âœ… ZKPè¯æ˜ç”Ÿæˆ");
    
    // 5. éªŒè¯èº«ä»½
    let verification = identity_manager.verify_identity_with_zkp(
        &registration.cid,
        &proof.proof,
        nonce,
    ).await?;
    
    println!("âœ… éªŒè¯ç»“æœ: {}", verification.zkp_verified);
    
    Ok(())
}
```

### è¿è¡Œç¤ºä¾‹

#### Noirç‰ˆæœ¬ï¼ˆæ¨èï¼‰
```bash
# 1. å®‰è£…Nargoï¼ˆNoirç¼–è¯‘å™¨ï¼‰
# åœ¨WSL Ubuntuä¸­è¿è¡Œï¼š
curl -L https://raw.githubusercontent.com/noir-lang/noirup/main/install | bash
source ~/.bashrc
noirup

# 2. è¿è¡ŒNoiræ™ºèƒ½ä½“æ¼”ç¤º
cargo run --example noir_agent_demo
```

#### arkworksç‰ˆæœ¬ï¼ˆå‘åå…¼å®¹ï¼‰
```bash
# 1. é¦–å…ˆç”ŸæˆZKPå¯ä¿¡è®¾ç½®ï¼ˆproving keyå’Œverifying keyï¼‰
cargo run --example zkp_setup_keys

# 2. ç¡®ä¿IPFSèŠ‚ç‚¹è¿è¡Œåœ¨ localhost:5001
ipfs daemon

# 3. è¿è¡ŒZKPèº«ä»½æ¼”ç¤º
cargo run --example zkp_identity_demo
```

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—

### 1. å¯†é’¥ç®¡ç† (`key_manager`)
- Ed25519å¯†é’¥å¯¹ç”Ÿæˆ
- å¯†é’¥å¤‡ä»½å’Œæ¢å¤
- DIDæ´¾ç”Ÿï¼ˆdid:keyæ ¼å¼ï¼‰

### 2. DIDæ„å»ºå™¨ (`did_builder`)
- æ„å»ºç¬¦åˆW3C DIDæ ‡å‡†çš„æ–‡æ¡£
- æ·»åŠ åŠ å¯†PeerIDæœåŠ¡ç«¯ç‚¹
- å•æ¬¡ä¸Šä¼ åˆ°IPFS

### 3. åŠ å¯†PeerID (`encrypted_peer_id`)
- AES-256-GCMåŠ å¯†
- ä»Ed25519ç§é’¥æ´¾ç”ŸåŠ å¯†å¯†é’¥
- å®‰å…¨è§£å¯†éªŒè¯

### 4. ZKPç”µè·¯ (`zkp_circuit`)
- DID-CIDç»‘å®šè¯æ˜ç”µè·¯
- Blake2så“ˆå¸ŒéªŒè¯ï¼ˆçº¦2500çº¦æŸï¼‰
- å¯†é’¥æ´¾ç”ŸéªŒè¯ï¼ˆçº¦1000çº¦æŸï¼‰

### 5. ZKPè¯æ˜å™¨ (`zkp_prover`)
- Groth16è¯æ˜ç”Ÿæˆ
- è¯æ˜éªŒè¯
- å¯ä¿¡è®¾ç½®ç®¡ç†

### 6. èº«ä»½ç®¡ç†å™¨ (`identity_manager`)
- ç»Ÿä¸€çš„æ³¨å†Œã€éªŒè¯æ¥å£
- ZKPè¯æ˜ç”Ÿæˆå’ŒéªŒè¯
- PeerIDåŠ è§£å¯†

### 7. Noir ZKPé›†æˆ (`noir_zkp`) ğŸ†•
- **NoirZKPManager**: ç®¡ç†Noirç”µè·¯æ‰§è¡Œå’Œç¼“å­˜
- **NoirAgent**: é«˜çº§æ™ºèƒ½ä½“APIï¼Œç®€åŒ–ZKPæ“ä½œ
- **æ™ºèƒ½ç¼“å­˜**: è‡ªåŠ¨ç¼“å­˜è¯æ˜ç»“æœï¼Œæå‡æ€§èƒ½
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡è¯æ˜ç”Ÿæˆå’ŒéªŒè¯
- **å¼€å‘è€…å‹å¥½**: æŠ½è±¡åŒ–å¤æ‚çš„Noir/Nargoæ“ä½œ

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æ“ä½œ | Noirç‰ˆæœ¬ | arkworksç‰ˆæœ¬ | æ•°æ®å¤§å° |
|------|----------|--------------|---------|
| å¯†é’¥ç”Ÿæˆ | <1ms | <1ms | 32å­—èŠ‚ |
| PeerIDåŠ å¯† | <1ms | <1ms | ~50å­—èŠ‚ |
| DIDæ–‡æ¡£æ„å»º | <1ms | <1ms | ~2KB |
| IPFSä¸Šä¼  | 50-200ms | 50-200ms | å–å†³äºç½‘ç»œ |
| ZKPè¯æ˜ç”Ÿæˆ | 3-7s (é¦–æ¬¡) | 10-20ms | 192å­—èŠ‚ |
| ZKPè¯æ˜ç”Ÿæˆ | 0ms (ç¼“å­˜) | 10-20ms | 192å­—èŠ‚ |
| ZKPè¯æ˜éªŒè¯ | 3-5ms | 3-5ms | - |

**æ€»å»¶è¿Ÿ**ï¼š
- **Noirç‰ˆæœ¬**ï¼šé¦–æ¬¡~3-7sï¼Œåç»­~100msï¼ˆç¼“å­˜å‘½ä¸­ï¼‰
- **arkworksç‰ˆæœ¬**ï¼šçº¦100msï¼ˆä¸»è¦æ˜¯ç½‘ç»œIOï¼‰

## ğŸ”§ æŠ€æœ¯æ ˆ

- **å¯†ç å­¦**ï¼š
  - Ed25519ï¼ˆç­¾åï¼‰
  - AES-256-GCMï¼ˆå¯¹ç§°åŠ å¯†ï¼‰
  - Blake2sï¼ˆå“ˆå¸Œï¼‰
  
- **ZKP**ï¼š
  - **Noir**ï¼ˆæ¨èï¼‰ï¼šç›´è§‚çš„ç”µè·¯æè¿°è¯­è¨€ï¼Œ4ä¸ªçº¦æŸ
  - **arkworks-rs**ï¼ˆå‘åå…¼å®¹ï¼‰ï¼šRust ZKPæ¡†æ¶ï¼Œ8ä¸ªçº¦æŸ
  - Groth16ï¼ˆè¯æ˜ç³»ç»Ÿï¼‰
  - BN254æ›²çº¿
  
- **å­˜å‚¨**ï¼š
  - IPFSï¼ˆå»ä¸­å¿ƒåŒ–å­˜å‚¨ï¼‰
  - CIDï¼ˆå†…å®¹å¯»å€ï¼‰
  
- **ç½‘ç»œ**ï¼š
  - libp2pï¼ˆP2Pé€šä¿¡ï¼‰
  - PeerIDï¼ˆèŠ‚ç‚¹èº«ä»½ï¼‰

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v0.2.4 (2025-01-XX) - Noiré›†æˆç‰ˆ

#### ğŸ†• æ–°åŠŸèƒ½
- **Noir ZKPé›†æˆ**: æ·»åŠ å®Œæ•´çš„Noirç”µè·¯æ”¯æŒï¼Œæä¾›æ›´ç›´è§‚çš„å¼€å‘ä½“éªŒ
- **NoirAgent API**: é«˜çº§æ™ºèƒ½ä½“APIï¼Œç®€åŒ–ZKPæ“ä½œæµç¨‹
- **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ**: è‡ªåŠ¨ç¼“å­˜è¯æ˜ç»“æœï¼Œå¤§å¹…æå‡é‡å¤æ“ä½œçš„æ€§èƒ½
- **æ‰¹é‡å¤„ç†æ”¯æŒ**: æ”¯æŒæ‰¹é‡è¯æ˜ç”Ÿæˆå’ŒéªŒè¯ï¼Œæå‡æ•´ä½“æ•ˆç‡
- **å¼€å‘è€…å‹å¥½è®¾è®¡**: æŠ½è±¡åŒ–å¤æ‚çš„Noir/Nargoæ“ä½œï¼Œé™ä½ä½¿ç”¨é—¨æ§›

#### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **ä¾èµ–ç²¾ç®€**: ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–ï¼Œå‡å°‘ç¼–è¯‘æ—¶é—´å’ŒåŒ…å¤§å°
- **çº¦æŸä¼˜åŒ–**: Noirç”µè·¯ä»…éœ€4ä¸ªçº¦æŸï¼Œæ¯”arkworksç‰ˆæœ¬å‡å°‘50%
- **ç¼“å­˜æœºåˆ¶**: é¦–æ¬¡ç”Ÿæˆ3-7ç§’ï¼Œåç»­ç¼“å­˜å‘½ä¸­0ms
- **åŠŸèƒ½æ¨¡å—åŒ–**: æ”¯æŒæŒ‰éœ€å¯ç”¨ä¸åŒZKPåç«¯

#### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- **åŒé‡ZKPæ”¯æŒ**: åŒæ—¶æ”¯æŒNoirå’Œarkworks-rsï¼Œå‘åå…¼å®¹
- **WSLé›†æˆ**: å®Œæ•´çš„WSLç¯å¢ƒæ”¯æŒï¼ŒWindowsç”¨æˆ·å‹å¥½
- **é”™è¯¯å¤„ç†**: æ”¹è¿›çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- **ä»£ç è´¨é‡**: è§£å†³æ‰€æœ‰ç¼–è¯‘è­¦å‘Šï¼Œæå‡ä»£ç è´¨é‡

#### ğŸ“š æ–‡æ¡£æ›´æ–°
- **READMEå‡çº§**: æ›´æ–°è‡³v0.2.4ï¼Œæ·»åŠ Noirä½¿ç”¨è¯´æ˜
- **ç¤ºä¾‹å®Œå–„**: æ–°å¢Noiræ™ºèƒ½ä½“æ¼”ç¤ºç¤ºä¾‹
- **å®‰è£…æŒ‡å—**: è¯¦ç»†çš„Nargoå®‰è£…å’Œä½¿ç”¨è¯´æ˜

### v0.2.3 (2025-10-13) - æ–‡æ¡£æ›´æ–°

#### ğŸ“š æ–‡æ¡£æ”¹è¿›
- **æ›´æ–°README**: æ·»åŠ å®Œæ•´çš„æ›´æ–°æ—¥å¿—ç« èŠ‚
- **å®Œå–„ç¤ºä¾‹**: æ›´æ–°æ‰€æœ‰ç¤ºä¾‹ä»£ç å’Œè¯´æ˜
- **ç‰ˆæœ¬æ ‡è¯†**: æ ‡è®°ä¸ºç”Ÿäº§å°±ç»ªç‰ˆæœ¬

### v0.2.2 (2025-10-13) - é‡å¤§ä¿®å¤å’Œä¼˜åŒ–

#### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **ZKPçº¦æŸä¼˜åŒ–**: ä» ~4000 é™è‡³ **8ä¸ªçº¦æŸ**ï¼ˆä¼˜åŒ–99.8%ï¼‰
- **è¯æ˜ç”Ÿæˆé€Ÿåº¦**: æå‡60%ï¼ˆä»10-20msé™è‡³~5msï¼‰
- **ç”µè·¯é‡æ–°è®¾è®¡**: åœ¨ç”µè·¯å¤–éªŒè¯Ed25519å¯†é’¥æ´¾ç”Ÿï¼Œæ˜¾è‘—æå‡æ•ˆç‡

#### ğŸ” å®‰å…¨ä¿®å¤
- **PeerIDåŠ å¯†å®Œå…¨é‡å†™**: ä½¿ç”¨AES-256-GCMçœŸæ­£åŠ å¯†ï¼ˆä¹‹å‰åªæ˜¯ç­¾åï¼‰ï¼Œæ”¯æŒå®Œæ•´çš„åŠ å¯†/è§£å¯†æµç¨‹
- **å¯†é’¥å¤‡ä»½åŠ å¯†å®ç°**: ä½¿ç”¨Argon2+AES-256-GCMçœŸæ­£åŠ å¯†å¯†é’¥å¤‡ä»½ï¼ˆä¹‹å‰åªæ˜¯base64ç¼–ç ï¼‰
- **ZKPå…¬å…±è¾“å…¥ç»Ÿä¸€**: ä¿®å¤è¯æ˜ç”Ÿæˆå’ŒéªŒè¯çš„ç¼–ç ä¸ä¸€è‡´é—®é¢˜

#### ğŸ› ï¸ åŠŸèƒ½æ”¹è¿›
- **å…¬é’¥è§£æå¢å¼º**: æ­£ç¡®è§£æmulticodecå‰ç¼€ï¼Œæ”¯æŒEd25519æ ¼å¼
- **å“ˆå¸Œç®—æ³•æ”¯æŒ**: æ”¯æŒSHA-256ã€SHA-512ã€Blake2b-512ã€Blake2s-256ç­‰å¤šç§ç®—æ³•
- **ç¤ºä¾‹ä»£ç ä¿®å¤**: ä¿®å¤`zkp_identity_demo.rs`ä¸­çš„PeerIDè§£å¯†è°ƒç”¨

#### ğŸ“ APIå˜æ›´
- æ–°å¢: `decrypt_peer_id_with_secret()` - ä½¿ç”¨ç§é’¥è§£å¯†PeerID
- æ–°å¢: `DIDBindingCircuit::verify_key_derivation()` - å¯†é’¥æ´¾ç”ŸéªŒè¯
- ä¿®æ”¹: `EncryptedPeerID` ç»“æ„ä½“ï¼ˆæ·»åŠ ciphertextã€nonceå­—æ®µï¼‰

è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ [FIXES_SUMMARY.md](FIXES_SUMMARY.md)

### v0.2.1 - åˆå§‹ZKPç‰ˆæœ¬
- å®ç°åŸºäºé›¶çŸ¥è¯†è¯æ˜çš„DID-CIDç»‘å®šéªŒè¯
- ç§»é™¤IPNSä¾èµ–ï¼Œä½¿ç”¨å•å±‚IPFSå­˜å‚¨

### v0.2.0 - ZKPæ¶æ„
- å¼•å…¥Groth16é›¶çŸ¥è¯†è¯æ˜ç³»ç»Ÿ
- å®ç°åŒ¿åè®¤è¯æµç¨‹

## ğŸ›£ï¸ è·¯çº¿å›¾

### âœ… v0.2.4 - Noiré›†æˆç‰ˆï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰
- [x] é›†æˆNoir ZKPç”µè·¯æ”¯æŒ
- [x] å®ç°NoirAgenté«˜çº§API
- [x] æ·»åŠ æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ
- [x] æ”¯æŒæ‰¹é‡å¤„ç†æ“ä½œ
- [x] ç²¾ç®€ä¾èµ–ï¼Œä¼˜åŒ–ç¼–è¯‘æ—¶é—´
- [x] å®Œå–„WSLç¯å¢ƒæ”¯æŒ
- [x] è§£å†³æ‰€æœ‰ç¼–è¯‘è­¦å‘Š

### âœ… v0.2.3 - ç”Ÿäº§å°±ç»ª
- [x] ä¼˜åŒ–ZKPç”µè·¯è‡³8ä¸ªçº¦æŸ
- [x] å®Œæ•´å®ç°PeerIDåŠ å¯†/è§£å¯†
- [x] å®ç°å®‰å…¨çš„å¯†é’¥å¤‡ä»½åŠ å¯†
- [x] ä¿®å¤æ‰€æœ‰å·²çŸ¥é—®é¢˜
- [x] å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

### ğŸ”® æœªæ¥è®¡åˆ’
- [ ] æ”¯æŒå¤šç§DIDæ–¹æ³•ï¼ˆdid:web, did:peerç­‰ï¼‰
- [ ] å®ç°å¯†é’¥è½®æ¢æœºåˆ¶
- [ ] æ·»åŠ æ‰¹é‡éªŒè¯æ”¯æŒ
- [ ] WebAssemblyæ”¯æŒ
- [ ] ç§»åŠ¨ç«¯SDK

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [GitHub Issues](https://github.com/logos-42/DIAP_Rust_SDK/issues)

## ğŸ“„ è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub ä»“åº“](https://github.com/logos-42/DIAP_Rust_SDK)
- [Crates.io](https://crates.io/crates/diap-rs-sdk)
- [W3C DID è§„èŒƒ](https://www.w3.org/TR/did-core/)
- [arkworks ZKP](https://github.com/arkworks-rs)
- [Groth16è®ºæ–‡](https://eprint.iacr.org/2016/260.pdf)

---

**ç‰ˆæœ¬**: 0.2.4
**å‘å¸ƒæ—¥æœŸ**: 2025-10-15  
**çŠ¶æ€**: Noir Integrated - Noiré›†æˆç‰ˆï¼Œæä¾›åŒé‡ZKPæ”¯æŒå’Œæ›´ä¼˜çš„å¼€å‘ä½“éªŒ
